(this.webpackJsonpracr=this.webpackJsonpracr||[]).push([[0],{100:function(e,t,a){},146:function(e,t){},161:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=161},190:function(e,t,a){},196:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(84),r=a.n(l),o=(a(100),a(94)),i=a(49),s=a.n(i),u=a(85),m=a(4),d=a(15),p=a.n(d),f=function(){return p.a.get("/api/users/")},g=function(e){return p.a.get("/api/users/".concat(e))},v=function(e){return p.a.post("/api/users",e)},E=function(e){return p.a.put("/api/users/friends/".concat(e.id),e)},b=function(e){return p.a.post("/api/users/login",e)},h=a(25),N=a.n(h),O=N()("http://localhost:5000"),j=c.a.createContext(),x=a(7),y=a(18),w=function(e){var t=Object(n.useState)(e),a=Object(m.a)(t,2),c=a[0],l=a[1];return{value:c,onChange:function(e){l(e.target.value),console.log(e.target.value)}}},C=function(e){var t=Object(n.useContext)(j),a=w(""),l=w("");return c.a.createElement("div",null,c.a.createElement("div",{className:"loginWrap"},c.a.createElement("div",{className:"logo"}),c.a.createElement("form",{id:"login"},c.a.createElement("label",{id:"email"},"Email:"),c.a.createElement("input",Object.assign({},a,{type:"text",name:"name"})),c.a.createElement("label",{id:"password"},"Password:"),c.a.createElement("input",Object.assign({},l,{type:"password",name:"name"})),c.a.createElement("div",null,c.a.createElement("button",{id:"submitButton",onClick:function(n){n.preventDefault();var c={email:a.value,password:l.value};b(c).then((function(a){window.localStorage.setItem("token",JSON.stringify(a.data)),t.getToken()?e.history.push("/home"):console.log("not auth")}))},type:"submit"},"Submit")),c.a.createElement("div",{className:"registerLink"},c.a.createElement(x.b,{to:"/signup"},"Register")))))},k=function(e){var t=Object(n.useState)(e),a=Object(m.a)(t,2),c=a[0],l=a[1];return{value:c,onChange:function(e){l(e.target.value),console.log(e.target.value)}}},S=function(){var e=Object(n.useContext)(j),t=e.users,a=e.localUser,l=e.isLoading,r=k("");return c.a.createElement("div",{id:"profilePage"},c.a.createElement("input",Object.assign({type:"text"},r,{data:t,placeHolder:"Enter Username Here"})),l?c.a.createElement("div",null,c.a.createElement("div",{className:"profileImage"},c.a.createElement("img",{className:"imgSrc",src:"".concat(a.image," "),alt:"profile-img"}),c.a.createElement("div",{className:"locationWrap"},c.a.createElement("div",{className:"profileLocation"},"".concat(a.city,", ").concat(a.state," ").concat(a.country)))),c.a.createElement("div",{class:"profileInfo"},c.a.createElement("div",{className:"profileUserName"},"".concat(a.userName)),c.a.createElement("div",{className:"profileName"},"".concat(a.firstName," ").concat(a.lastName)))):c.a.createElement("h2",null,"Loading..."))},L=function(){var e=Object(n.useContext)(j);e.isOnline,e.setOnline,e.isAuth,e.localUser;return c.a.createElement(S,null)},U=function(){var e=Object(n.useContext)(j).isAuth;return c.a.createElement("div",null,e?c.a.createElement("div",{className:"navWrapper"},c.a.createElement("div",{className:"linkWraps"},c.a.createElement(x.c,{className:"navLink",exact:!0,to:"/challengeform"},c.a.createElement("div",{className:"racr-nav-icon small-logo"})),c.a.createElement(x.c,{className:"navLink",exact:!0,to:"/home"},c.a.createElement("i",{className:"fas fa-user"})),c.a.createElement(x.c,{className:"navLink",exact:!0,to:"/notifications"},c.a.createElement("i",{className:"fas fa-bell"})),c.a.createElement(x.c,{className:"navLink",exact:!0,to:"/users"},c.a.createElement("i",{className:"fas fa-search"})),c.a.createElement(x.c,{className:"navLink",exact:!0,to:"/friends"},c.a.createElement("i",{className:"fas fa-users"})),c.a.createElement(x.c,{className:"navLink",exact:!0,to:"/login"},c.a.createElement("i",{className:"fas fa-sign-out-alt"})))):null)},I=a(93).a("AFeiQyudCRNK8T2g46sKFz"),W=function(e){var t=Object(n.useState)(e),a=Object(m.a)(t,2),c=a[0],l=a[1];return{value:c,onChange:function(e){l(e.target.value),console.log(e.target.value)}}},F=function(e){var t=W(""),a=W(""),n=W(""),l=W(""),r=W(""),o=W(""),i=W(""),s=W(""),u=W(""),m="";return c.a.createElement("div",{className:"registerWrap"},c.a.createElement("form",{id:"register"},c.a.createElement("div",{className:"inputWrap"},c.a.createElement("label",{id:"email"},"Email:"),c.a.createElement("input",Object.assign({},t,{type:"text",name:"name"}))),c.a.createElement("div",{className:"inputWrap"},c.a.createElement("label",{id:"userName"},"User Name:"),c.a.createElement("input",Object.assign({},r,{type:"text",name:"name"}))),c.a.createElement("div",{className:"inputWrap"},c.a.createElement("label",{id:"password"},"Password:"),c.a.createElement("input",Object.assign({},a,{type:"password",name:"name"}))),c.a.createElement("div",{className:"inputWrap"},c.a.createElement("label",{id:"age"},"Age:"),c.a.createElement("input",Object.assign({},u,{type:"text",name:"name"}))),c.a.createElement("div",{className:"inputWrap"},c.a.createElement("label",{id:"firstName"},"First Name:"),c.a.createElement("input",Object.assign({id:"firstNameInput"},n,{type:"text",name:"name"}))),c.a.createElement("div",{className:"inputWrap"},c.a.createElement("label",{id:"lastName"},"Last Name:"),c.a.createElement("input",Object.assign({id:"lastNameInput"},l,{type:"text",name:"name"}))),c.a.createElement("div",{className:"inputWrap"},c.a.createElement("label",{id:"city"},"City:"),c.a.createElement("input",Object.assign({},o,{type:"text",name:"name"}))),c.a.createElement("div",{className:"inputWrap"},c.a.createElement("label",{id:"state"},"State:"),c.a.createElement("input",Object.assign({},i,{type:"text",name:"name"}))),c.a.createElement("div",{className:"inputWrap"},c.a.createElement("label",{id:"country"},"Country:"),c.a.createElement("input",Object.assign({},s,{type:"text",name:"name"}))),c.a.createElement("div",{className:"inputWrap"},c.a.createElement("label",{id:"profileImage"},"Image:"),c.a.createElement("input",{id:"imageUpload",type:"file",onChange:function(e){var t=e.target.files.item(0);return I.upload(t).then((function(e){console.log("success: ",e),m=e.url})).catch((function(e){console.log(e)})),m},name:"name"})),c.a.createElement("button",{id:"submitButton",onClick:function(c){c.preventDefault();var d={email:t.value,password:a.value,firstName:n.value,lastName:l.value,userName:r.value,city:o.value,state:i.value,country:s.value,age:u.value,image:m};console.log(d),v(d).then((function(t){e.history.push("/login")})),console.log("this is where i send shit")},type:"submit"},"Submit"),c.a.createElement("div",{class:"signinLink"},c.a.createElement(x.b,{to:"/"},"Sign In"))))},A=function(e){var t=Object(n.useState)(e),a=Object(m.a)(t,2),c=a[0],l=a[1];return{value:c,onChange:function(e){l(e.target.value),console.log(e.target.value)}}},M=function(e){var t=e.match,a=Object(n.useContext)(j),l=t.params.id,r=a.users,o=a.isLoading,i=a.profile,s=a.addFriend,u=a.localUser,m=A("");return Object(n.useEffect)((function(){a.fetchOneUser(l)}),[]),c.a.createElement("div",{id:"profilePage"},c.a.createElement("input",Object.assign({type:"text"},m,{data:r,placeholder:"Enter Username Here"})),o?c.a.createElement("div",null,c.a.createElement("div",{className:"profileImage"},c.a.createElement("img",{className:"imgSrc",src:"".concat(i.image),alt:"profile-image"}),c.a.createElement("button",{onClick:function(){return s({id:l,friendId:u._id})},id:"add-friend-btn"},"Add friend"),c.a.createElement("div",{className:"locationWrap"},c.a.createElement("div",{className:"profileLocation"},"".concat(i.city,", ").concat(i.state," ").concat(i.country)))),c.a.createElement("div",{class:"profileInfo"},c.a.createElement("div",{className:"profileUserName"},"".concat(i.userName)),c.a.createElement("div",{className:"profileName"},"".concat(i.firstName," ").concat(i.lastName)),c.a.createElement(x.b,{to:"/users/".concat(l,"/challengeform")},c.a.createElement("button",{id:"challenge-friend-btn"})))):c.a.createElement("h2",null,"Loading..."))},B=function(e){e.match;var t=Object(n.useContext)(j),a=t.localUser,l=t.fetchOneUser,r=t.friends;t.setFriends;return Object(n.useEffect)((function(){void 0!==a&&l(a._id)}),[]),console.log(r),c.a.createElement("div",{className:"friend-list"})},D=function(e){var t=Object(n.useState)(5),a=Object(m.a)(t,2),l=a[0],r=a[1];return Object(n.useEffect)((function(){var e=setInterval((function(){console.log("test"+l),l<1?clearInterval(e):r((function(e){return e-1}))}),1e3);return function(){return clearInterval(e)}}),[]),c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},l>=0?l:0," seconds have elapsed since mounting."))},P=a(92),_=N()("http://localhost:5000"),J=function(e){var t=Object(n.useState)(e),a=Object(m.a)(t,2),c=a[0],l=a[1];return{value:c,onChange:function(e){l(e.target.value),console.log(e.target.value)}}},T=function(e){var t=e.match,a=Object(n.useContext)(j),l=t.params.id,r=(a.users,a.isLoading),o=a.localUser,i=a.profile,s=J("miles"),u=J(""),m=J("");return c.a.createElement("div",{id:"challengeModal"},r?c.a.createElement("div",{className:"challenge-form"},c.a.createElement("div",{className:"challenge-label"},"Distance:"),c.a.createElement("input",Object.assign({type:"text"},u,{placeholder:"number"})),c.a.createElement("p",null,u.value,s.value),c.a.createElement("select",Object.assign({id:"distance-metric"},s),c.a.createElement("option",{value:"miles"},"Miles"),c.a.createElement("option",{value:"kilometers"},"Kilometers"),c.a.createElement("option",{value:"feet"},"Feet")),c.a.createElement("div",{className:"challenge-label"},"Message:"),c.a.createElement("input",Object.assign({},m,{placeholder:"Your Message",className:"challenge-message"})),c.a.createElement("button",{id:"submitButton",onClick:function(e){e.preventDefault();var t=Object(P.a)({requestor:o._id,acceptor:i._id,distance:u.value,metric:s.value,message:m.value},"acceptor",l);_.emit("challenge",{body:t}),_.on("challenge",(function(){console.log("youve been challenged")})),console.log(t)}},"Send Challenge")):c.a.createElement("h2",null,"Loading..."))},H=(a(190),a(191),a(195),function(){var e=Object(n.useState)({lat:0,long:0,dist:0}),t=Object(m.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){l({lat:e.coords.latitude,long:e.coords.longitude,dist:0})})),r()}),[]);var r=function(){navigator.geolocation.watchPosition((function(e){l((function(t){return{lat:e.coords.latitude,long:e.coords.longitude,dist:t.dist+=Math.sqrt(Math.pow(t.lat-e.coords.latitude,2)+Math.pow(t.long-e.coords.longitude,2))}}))}))};return console.log(a),c.a.createElement("div",null,"geolocation"in navigator?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,a.lat),c.a.createElement("p",null,a.long),c.a.createElement("p",null,a.dist)):null)}),K=function(e){var t=e.match,a=Object(n.useContext)(j),l=(t.params.id,a.users,a.isLoading);a.localUser,a.profile;return console.log(a),c.a.createElement("div",{id:"challengeModal"},l?c.a.createElement("div",{className:"challenge-response"},c.a.createElement("div",{className:"challenge-label"},"You have been invited to race against",c.a.createElement("div",{className:"opponentName"}),"in a ",c.a.createElement("div",{className:"distance"})," race"),c.a.createElement("button",{id:"submitButton",className:"accept-race",onClick:"#"},"Accept"),c.a.createElement("button",{id:"submitButton",className:"decline-race",onClick:"#"},"Decline")):c.a.createElement("h2",null,"Loading..."))};N()("http://localhost:5000");var q=function(e){return Object(n.useContext)(j).localUser,c.a.createElement(x.a,null,c.a.createElement(U,null),c.a.createElement(y.d,null,c.a.createElement(y.b,{to:!0,exact:!0,path:"/login",component:C}),c.a.createElement(y.b,{to:!0,exact:!0,path:"/users/:id/challengeform",component:T}),c.a.createElement(y.b,{to:!0,exact:!0,path:"/home",component:L}),c.a.createElement(y.b,{to:!0,exact:!0,path:"/signup",component:F}),c.a.createElement(y.b,{to:!0,exact:!0,path:"/race",component:D}),c.a.createElement(y.b,{to:!0,exact:!0,path:"/users",component:B}),c.a.createElement(y.b,{to:!0,path:"/users/:id",component:M}),c.a.createElement(y.b,{to:!0,exact:!0,path:"/",render:function(){return c.a.createElement(y.a,{to:"/login"})}}),c.a.createElement(y.b,{to:!0,exact:!0,path:"/racetest",component:H}),c.a.createElement(y.b,{to:!0,exact:!0,path:"/notifications",component:K})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement((function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)({}),d=Object(m.a)(i,2),p=d[0],v=d[1],b=Object(n.useState)(!1),h=Object(m.a)(b,2),N=h[0],x=h[1],y=Object(n.useState)(!1),w=Object(m.a)(y,2),C=w[0],k=w[1],S=Object(n.useState)([]),L=Object(m.a)(S,2),U=L[0],I=L[1],W=Object(n.useState)(void 0),F=Object(m.a)(W,2),A=F[0],M=F[1],B=Object(n.useState)(!1),D=Object(m.a)(B,2),P=D[0],_=D[1],J=function(){f().then((function(e){console.log(e.data),r(e.data),k(!0)}))},T=function(){var e=Object(u.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!1),e.next=3,g(t);case 3:a=e.sent,console.log(a.data),v(a.data),k(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=window.localStorage.getItem("token");if(e)return M(JSON.parse(e)),_(!0),function(){if(void 0===A)return null;A.friends.map((function(e){return I((function(t){return[e].concat(Object(o.a)(t))}))}))}(),!0};return Object(n.useEffect)((function(){J(),H()}),[]),O.on("some event",(function(e){console.log(e)})),O.on("welcome",(function(e){console.log("made it")})),O.on("ask",(function(){if(void 0===A)return!1;O.emit("online",{localUser:A})})),O.on("event",(function(e){console.log(e)})),O.on("challenge",(function(){return console.log("you just got a challenge")})),O.on("disconnect",(function(){})),c.a.createElement(j.Provider,{value:{users:l,isAuth:P,profile:p,isLoading:C,fetchUsers:J,localUser:A,fetchOneUser:T,getToken:H,addFriend:function(e){var t,a=e.id,n=e.friendId;console.log(e),E(e).then((function(e){console.log(e.data)})),t=a;var c={id:a=n,friendId:n=t};console.log(c),E(c).then((function(e){I(n),console.log(e.data)}))},friends:U,setFriends:I,isOnline:N,setOnline:x}},e.children)}),null,c.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},95:function(e,t,a){e.exports=a(196)}},[[95,1,2]]]);
//# sourceMappingURL=main.daff4715.chunk.js.map